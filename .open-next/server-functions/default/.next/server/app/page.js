(()=>{var e={};e.id=974,e.ids=[974],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5596:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var s=r(65239),a=r(48088),o=r(88170),n=r.n(o),l=r(30893),i={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);r.d(t,i);let c={children:["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,80393)),"/home/user/Aquafornite/src/app/page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"/home/user/Aquafornite/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/home/user/Aquafornite/src/app/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},24597:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/Aquafornite/src/components/Header.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/Aquafornite/src/components/Header.tsx","default")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31176:(e,t,r)=>{Promise.resolve().then(r.bind(r,24597)),Promise.resolve().then(r.bind(r,39086))},33873:e=>{"use strict";e.exports=require("path")},39086:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/Aquafornite/src/components/Skins.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/Aquafornite/src/components/Skins.tsx","default")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},67359:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var s=r(60687),a=r(43210),o=r(30474),n=r(60842);function l({groupedSkins:e}){let t=Object.entries(e),[r,l]=(0,a.useState)(4),[i,c]=(0,a.useState)(null),d=(0,a.useRef)(null),u=function(){let[e,t]=(0,a.useState)(!1);return e}(),{addItem:p}=(0,n.N)();return(0,s.jsxs)("section",{className:"p-6",children:[t.slice(0,r).map(([e,t])=>(0,s.jsxs)("div",{className:"flex flex-col ",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mt-8",children:e}),(0,s.jsx)("div",{className:" grid grid-cols-2 gap-2 md:gap-4 mt-4  xl:gap-4 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-5 ",children:t.map((e,t)=>(0,s.jsxs)("div",{onClick:()=>{u&&p(e)},className:"group card image-full flex-shrink-0  h-[230px] md:h-[280px] max-w-xs relative overflow-hidden cursor-pointer shadow-[0px_0px_80px_-44px_rgba(0,_0,_0,_0.7)]",style:{background:e.colors.color1,backgroundImage:`linear-gradient(180deg, ${e.colors.color1} 0%, ${e.colors.color2} 50%, ${e.colors.color3})`},children:[(0,s.jsx)(o.default,{alt:e.displayAssets[0]?.displayAsset||"https://placehold.co/600x400/EEE/31343C",width:400,height:300,priority:!0,className:"z-0 w-full object-cover h-full transition-transform duration-700 ease-out group-hover:scale-105 active:scale-105 ",src:e.displayAssets[0]?.url||"https://placehold.co/400x400.png?text=Not+Found"}),(0,s.jsxs)("div",{className:`w-full pl-2 pr-2 pb-10  ${u?"-translate-y-7":"translate-y-8"} absolute bg-gradient-to-t from-zinc-900  ellipsis to-transparent bottom-[-50] z-9 pb-2  group-hover:-translate-y-8 transition-transform duration-300`,children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("span",{className:"text-white/75 text-sm",children:[e.price.finalPrice," V-BUCKS - ",e.discount," USD"]}),(0,s.jsx)("span",{className:"text-white  font-semibold truncate ellipsis",children:e.displayName})]}),!u&&(0,s.jsx)("button",{onClick:()=>p(e),className:" btn mt-2  w-full  btn-primary text-white font-medium transition-colors",children:"Agregar al carrito"})]})]},t))})]},e)),r<t.length&&(0,s.jsx)("div",{ref:d,className:"h-16 mt-8"})]})}let i=({skins:e,categories:t})=>{let[r,o]=(0,a.useState)(""),[n,i]=(0,a.useState)("All"),[c,d]=(0,a.useState)("Todos"),[u,p]=(0,a.useState)(""),[m,h]=(0,a.useState)([]),[f,x]=(0,a.useState)(["Todos"]),g=(0,a.useMemo)(()=>(function(e,t={}){let r=e;r=e.filter(e=>(!t.search||!!e.displayName.toLowerCase().includes(t.search.toLowerCase()))&&(!t.rarity||"All"===t.rarity||!!e.rarity?.id.includes(t.rarity))&&(!t.category||"Todos"===t.category||!!e.section.name.includes(t.category)));let s={};r.forEach(e=>{let t=e.section.name.length<=2?"":e.section.name;s[t]||(s[t]=[]),s[t].push(e)});let a=(e,r)=>{switch(t.sortBy){case"price_asc":return e.discount-r.discount;case"price_desc":return r.discount-e.discount;default:return 0}};for(let e in s)s[e]=s[e].sort(a);let o=Object.keys(s).sort((e,r)=>"name_desc"===t.sortBy?r.localeCompare(e):"name_asc"===t.sortBy?e.localeCompare(r):0),n={};for(let e of o)n[e]=s[e];let l=["Todos",...Object.keys(o)];return console.log(l),{filteredSkins:n,categories:l}})(e,{rarity:n,category:c,search:r,sortBy:u}),[n,c,r,u]);return(0,s.jsxs)("main",{className:"w-full flex flex-col  min-h-screen p-2",children:[(0,s.jsx)("div",{className:"w-full bg-content1 p-6",children:(0,s.jsxs)("form",{className:"flex flex-col md:flex-row gap-4 flex-wrap",children:[(0,s.jsx)("div",{className:"w-full md:flex-1 ",children:(0,s.jsx)("input",{onChange:e=>o(e.target.value),type:"search",placeholder:"Buscar skin...",className:" w-full input",name:"search"})}),(0,s.jsx)("div",{className:"w-full md:w-64",children:(0,s.jsx)("select",{defaultValue:" Pick a color",className:" w-full select",onChange:e=>i(e.target.value),name:"rarity",children:[{key:"All",label:"Todos"},{key:"Common",label:"Com\xfan"},{key:"Epic",label:"Epico"},{key:"Legendary",label:"Legendario"},{key:"Rare",label:"Raro"},{key:"Uncommon",label:"Poco com\xfan"}].map(e=>(0,s.jsx)("option",{value:e.key,children:e.label},e.key))})}),(0,s.jsx)("div",{className:"w-full md:w-64",children:(0,s.jsx)("select",{onChange:e=>d(e.target.value),className:" w-full select",name:"category",children:t?.map((e,t)=>(0,s.jsx)("option",{value:e,children:e},t))})}),(0,s.jsx)("div",{className:"w-full md:w-64",children:(0,s.jsx)("select",{defaultValue:"Pick a color",className:" w-full select",name:"order",onChange:e=>{p(e.target.value)},children:[{key:"price_desc",label:"Mayor a Menor"},{key:"price_asc",label:"Menor a Mayor"},{key:"name_asc",label:"Ascendente"},{key:"name_desc",label:"Descendente"}].map(e=>(0,s.jsx)("option",{value:e.key,children:e.label},e.key))})})]})}),(0,s.jsx)(l,{groupedSkins:g.filteredSkins})]})}},73024:e=>{"use strict";e.exports=require("node:fs")},76760:e=>{"use strict";e.exports=require("node:path")},77598:e=>{"use strict";e.exports=require("node:crypto")},79551:e=>{"use strict";e.exports=require("url")},80393:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(37413),a=r(24597),o=r(39086);async function n(){let e=await fetch("https://fortniteapi.io/v2/shop?lang=es",{headers:{authorization:`${process.env.APIKEY_FORTNITE}`}}),t=(await e.json()).shop.map(e=>({...e,discount:parseFloat((.0043*e.price.finalPrice).toFixed(2))})),r={};return t.forEach(e=>{let t=e.section.name.length<=2?"":e.section.name;r[t]||(r[t]=[]),r[t].push(e)}),{skins:t,categories:["Todos",...Object.keys(r)]}}async function l(){let{skins:e,categories:t}=await n();return(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)(a.default,{}),(0,s.jsx)(o.default,{skins:e,categories:t})]})}},94728:(e,t,r)=>{Promise.resolve().then(r.bind(r,51145)),Promise.resolve().then(r.bind(r,67359))}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[80,339,658,783,991,256],()=>r(5596));module.exports=s})();