"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[889],{3889:(e,s,a)=>{a.d(s,{default:()=>x});var l=a(5155),r=a(2115),t=a(1976),n=a(7347),i=a(5430);function c(e){return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...e,children:(0,l.jsx)("path",{fill:"currentColor",d:"M7.5 18a1.5 1.5 0 1 1 0 3a1.5 1.5 0 0 1 0-3m9 0a1.5 1.5 0 1 1 0 3a1.5 1.5 0 0 1 0-3M2.084 2.751a.75.75 0 0 1 .956-.459l.302.106c.616.217 1.14.401 1.552.603c.44.217.819.483 1.103.899c.282.412.398.865.452 1.362q.035.333.043.738H8.15l1.655 9.377c-2.025-.018-3.14-.135-3.876-.91C5.063 13.551 5 12.581 5 9.64V7.038c0-.74 0-1.235-.041-1.615c-.04-.363-.11-.545-.2-.677c-.088-.129-.221-.25-.525-.398c-.322-.158-.761-.314-1.429-.549l-.261-.091a.75.75 0 0 1-.459-.957m9.244 12.629h2.842L15.827 6H9.673zM17.35 6c1.596.001 3.002.025 3.426.577c.444.577.27 1.447-.076 3.186l-.5 2.425c-.315 1.528-.473 2.293-1.025 2.742c-.551.45-1.332.45-2.893.45h-.588z"})})}var d=a(6766),o=a(6874),m=a.n(o);let x=()=>{let[e,s]=(0,r.useState)("corporate"),{user:a}=(0,t.Jd)(),{items:o,removeAll:x,removeItem:h}=(0,i.N)(),j=o.map(e=>e.discount).reduce((e,s)=>e+s,0);(0,r.useEffect)(()=>{var s;null==(s=document.querySelector("html"))||s.setAttribute("data-theme",e)},[e]);let u=async()=>{let e=o.map(e=>({name:e.displayName,price:e.discount,images:e.displayAssets[0].url,quantity:1})),s=await fetch("/api/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:e})}),{url:a}=await s.json();window.location.href=a};return(0,l.jsxs)("div",{className:"navbar  shadow-sm pl-8 pr-8 z-3",children:[(0,l.jsx)("div",{className:"flex-1 flex-row items-center justify-center mt-2",children:(0,l.jsx)(m(),{href:"/",children:(0,l.jsx)(d.default,{src:"/images/img.png",alt:"icon",width:150,height:50})})}),(0,l.jsxs)("div",{className:"  flex items-center",children:[(0,l.jsxs)("div",{className:"  relative drawer drawer-end",children:[(0,l.jsx)("input",{id:"my-drawer-4",type:"checkbox",className:"drawer-toggle btn btn-ghost btn-circle"}),(0,l.jsx)("div",{className:"drawer-content",children:(0,l.jsx)("label",{htmlFor:"my-drawer-4",className:"drawer-button border-none btn btn-ghost hover:bg-transparent hover:border-none ",children:0===o.length?(0,l.jsx)("div",{className:" flex flex-row ",children:(0,l.jsx)(n.In,{icon:"solar:cart-large-2-outline",fontSize:28})}):(0,l.jsxs)("div",{className:" flex flex-row items-center",children:[(0,l.jsx)(c,{}),(0,l.jsx)("span",{className:"badge badge-sm badge-secondary",children:o.length})]})})}),(0,l.jsxs)("div",{className:"drawer-side z-100",children:[(0,l.jsx)("label",{htmlFor:"my-drawer-4","aria-label":"close sidebar",className:"drawer-overlay"}),(0,l.jsxs)("div",{className:" menu bg-base-200 text-base-content min-h-full w-70 md:w-80 p-4",children:[(0,l.jsxs)("div",{className:"flex items-center mb-10",children:[(0,l.jsx)("h1",{className:"flex-1 text-lg",children:"Carrito de compras"}),(0,l.jsx)("div",{className:"drawer-content",children:(0,l.jsx)("label",{htmlFor:"my-drawer-4",className:"drawer-button btn btn-ghost",children:(0,l.jsx)(n.In,{icon:"solar:exit-bold",fontSize:25})})})]}),(0,l.jsxs)("div",{className:" flex w-full flex-col",children:[0===o.length?(0,l.jsxs)("div",{className:"flex flex-col justify-center gap-7 items-center",children:[(0,l.jsx)(n.In,{icon:"bi:cart-x",fontSize:75}),(0,l.jsxs)("h1",{className:"text-lg text-center",children:["Carrito de compras ",(0,l.jsx)("span",{className:"text-error text-center text-bold",children:"vacio!"})]}),(0,l.jsx)("p",{className:"text-center",children:"Agrega algunos productos antes de proceder con la compra "})]}):o.map((e,s)=>(0,l.jsxs)("div",{className:"",children:[(0,l.jsxs)("div",{className:"w-full flex flex-row ",children:[(0,l.jsx)("div",{className:"size-24 shrink-0 overflow-hidden rounded-md ",style:{background:e.colors.color1,backgroundImage:"linear-gradient(180deg, ".concat(e.colors.color1," 0%, ").concat(e.colors.color2," 50%, ").concat(e.colors.color3,")")},children:(0,l.jsx)("img",{className:"size-full object-cover",src:e.displayAssets[0].url,alt:""})}),(0,l.jsxs)("div",{className:"ml-4 flex flex-1 flex-col",children:[(0,l.jsxs)("div",{className:"flex justify-between  font-medium ",children:[(0,l.jsx)("h3",{children:e.displayName}),(0,l.jsx)("p",{className:"ml-4",children:e.discount})]}),(0,l.jsxs)("div",{className:"flex flex-1 items-end justify-between text-sm",children:[(0,l.jsx)("p",{className:"text-gray-500"}),(0,l.jsx)("span",{className:"group cursor-pointer",onClick:s=>h(e.mainId),children:(0,l.jsx)(n.In,{className:"group-hover:text-error",icon:"solar:trash-bin-2-bold",fontSize:25})})]})]})]}),(0,l.jsx)("div",{className:" divider"})]},s)),(0,l.jsx)("div",{className:"",children:(0,l.jsx)("div",{className:"w-full h-20 flex flex-row ",children:(0,l.jsxs)("div",{className:"ml-4 flex flex-1 flex-col",children:[(0,l.jsxs)("div",{className:"flex justify-between  font-medium ",children:[(0,l.jsx)("h3",{}),(0,l.jsx)("p",{className:"ml-4"})]}),(0,l.jsxs)("div",{className:"flex flex-1 items-end justify-between text-sm",children:[(0,l.jsx)("p",{className:"text-gray-500"}),(0,l.jsx)("span",{className:"group cursor-pointer",children:" "})]})]})})})]})]}),0==o.length?"":(0,l.jsxs)("div",{className:"fixed bottom-0 pl-3 pr-5 pb-5 w-70 md:w-80 flex flex-col  bg-base-200  ",children:[(0,l.jsxs)("span",{className:"text-lg font-bold",children:[o.length," skins"]}),(0,l.jsxs)("span",{className:"text-info text-base ",children:["Total: ",j.toFixed(2)]}),(0,l.jsxs)("button",{className:"mt-5 btn btn-success btn-block",onClick:u,children:["Comprar",(0,l.jsx)(n.In,{icon:"solar:wallet-money-bold",fontSize:25})]}),(0,l.jsx)("input",{id:"my-drawer-4",type:"checkbox",className:"drawer-toggle btn btn-ghost btn-circle"})]})]})]}),a?(0,l.jsxs)("div",{className:" dropdown dropdown-end",children:[(0,l.jsx)("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-circle avatar",children:(0,l.jsx)(t.uF,{afterSignOutUrl:"/"})}),(0,l.jsxs)("ul",{tabIndex:0,className:"menu menu-sm dropdown-content bg-base-100 rounded-box z-1 mt-3 w-52 p-2 shadow",children:[(0,l.jsx)("li",{children:(0,l.jsx)("a",{className:"justify-between",href:"/user",children:"Perfil"})}),(0,l.jsx)("li",{children:(0,l.jsx)("button",{onClick:()=>s("corporate"===e?"dark":"corporate"),children:"Dark/Light"})}),(0,l.jsx)("li",{children:(0,l.jsx)(t.ct,{children:"Cerrar Sesion"})})]})]}):(0,l.jsx)("div",{className:" dropdown dropdown-end",children:(0,l.jsx)(t.hZ,{children:(0,l.jsx)("button",{className:"btn btn-primary m-0 p-0 w-30 ",children:"Iniciar Sesi\xf3n"})})})]})]})}},5430:(e,s,a)=>{a.d(s,{N:()=>t});var l=a(5453),r=a(3125);let t=(0,l.v)((e,s)=>({items:[],addItem:a=>{if(s().items.find(e=>e.mainId===a.mainId))return r.P.error("\xa1Producto ya esta agregado al carrito !",{duration:3e3,position:"top-right",transition:"swingInverted",icon:"",sound:!0});e({items:[...s().items,a]}),r.P.success("\xa1Producto registrado con \xe9xito, gracias \uD83D\uDE18!",{duration:2500,position:"top-right",transition:"swingInverted",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-thumbs-up"><path d="M7 10v12"/><path d="M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z"/></svg>',sound:!0})},removeItem:a=>{e({items:[...s().items.filter(e=>e.mainId!=a)]})},removeAll:()=>e({items:[]})}))}}]);