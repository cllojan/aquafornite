(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7356:(e,l,s)=>{"use strict";s.d(l,{default:()=>c});var t=s(5155),a=s(2115),r=s(6766),n=s(5430);function o(e){let{groupedSkins:l}=e,s=Object.entries(l),[o,c]=(0,a.useState)(4),[i,d]=(0,a.useState)(null),u=(0,a.useRef)(null),m=function(){let[e,l]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=()=>l(window.innerWidth<768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e}(),{addItem:h}=(0,n.N)();return(0,a.useEffect)(()=>{let e=new IntersectionObserver(e=>{e[0].isIntersecting&&c(e=>Math.min(e+2,s.length))},{rootMargin:"100px"});return u.current&&e.observe(u.current),()=>{u.current&&e.disconnect()}},[s.length]),(0,t.jsxs)("section",{className:"p-6",children:[s.slice(0,o).map(e=>{let[l,s]=e;return(0,t.jsxs)("div",{className:"flex flex-col ",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold mt-8",children:l}),(0,t.jsx)("div",{className:" grid grid-cols-2 gap-2 md:gap-4 mt-4  xl:gap-4 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-5 ",children:s.map((e,l)=>{var s,a;return(0,t.jsxs)("div",{onClick:()=>{m&&h(e)},className:"group card image-full flex-shrink-0  h-[230px] md:h-[280px] max-w-xs relative overflow-hidden cursor-pointer shadow-[0px_0px_80px_-44px_rgba(0,_0,_0,_0.7)]",style:{background:e.colors.color1,backgroundImage:"linear-gradient(180deg, ".concat(e.colors.color1," 0%, ").concat(e.colors.color2," 50%, ").concat(e.colors.color3,")")},children:[(0,t.jsx)(r.default,{alt:(null==(s=e.displayAssets[0])?void 0:s.displayAsset)||"https://placehold.co/600x400/EEE/31343C",width:400,height:300,priority:!0,className:"z-0 w-full object-cover h-full transition-transform duration-700 ease-out group-hover:scale-105 active:scale-105 ",src:(null==(a=e.displayAssets[0])?void 0:a.url)||"https://placehold.co/400x400.png?text=Not+Found"}),(0,t.jsxs)("div",{className:"w-full pl-2 pr-2 pb-10  ".concat(m?"-translate-y-7":"translate-y-8"," absolute bg-gradient-to-t from-zinc-900  ellipsis to-transparent bottom-[-50] z-9 pb-2  group-hover:-translate-y-8 transition-transform duration-300"),children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsxs)("span",{className:"text-white/75 text-sm",children:[e.price.finalPrice," V-BUCKS - ",e.discount," USD"]}),(0,t.jsx)("span",{className:"text-white  font-semibold truncate ellipsis",children:e.displayName})]}),!m&&(0,t.jsx)("button",{onClick:()=>h(e),className:" btn mt-2  w-full  btn-primary text-white font-medium transition-colors",children:"Agregar al carrito"})]})]},l)})})]},l)}),o<s.length&&(0,t.jsx)("div",{ref:u,className:"h-16 mt-8"})]})}let c=e=>{let{skins:l,categories:s}=e,[r,n]=(0,a.useState)(""),[c,i]=(0,a.useState)("All"),[d,u]=(0,a.useState)("Todos"),[m,h]=(0,a.useState)(""),[p,f]=(0,a.useState)([]),[x,g]=(0,a.useState)(["Todos"]),y=(0,a.useMemo)(()=>(function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=e;s=e.filter(e=>{var s;return(!l.search||!!e.displayName.toLowerCase().includes(l.search.toLowerCase()))&&(!l.rarity||"All"===l.rarity||!!(null==(s=e.rarity)?void 0:s.id.includes(l.rarity)))&&(!l.category||"Todos"===l.category||!!e.section.name.includes(l.category))});let t={};s.forEach(e=>{let l=e.section.name.length<=2?"":e.section.name;t[l]||(t[l]=[]),t[l].push(e)});let a=(e,s)=>{switch(l.sortBy){case"price_asc":return e.discount-s.discount;case"price_desc":return s.discount-e.discount;default:return 0}};for(let e in t)t[e]=t[e].sort(a);let r=Object.keys(t).sort((e,s)=>"name_desc"===l.sortBy?s.localeCompare(e):"name_asc"===l.sortBy?e.localeCompare(s):0),n={};for(let e of r)n[e]=t[e];let o=["Todos",...Object.keys(r)];return console.log(o),{filteredSkins:n,categories:o}})(l,{rarity:c,category:d,search:r,sortBy:m}),[c,d,r,m]);return(0,t.jsxs)("main",{className:"w-full flex flex-col  min-h-screen p-2",children:[(0,t.jsx)("div",{className:"w-full bg-content1 p-6",children:(0,t.jsxs)("form",{className:"flex flex-col md:flex-row gap-4 flex-wrap",children:[(0,t.jsx)("div",{className:"w-full md:flex-1 ",children:(0,t.jsx)("input",{onChange:e=>n(e.target.value),type:"search",placeholder:"Buscar skin...",className:" w-full input",name:"search"})}),(0,t.jsx)("div",{className:"w-full md:w-64",children:(0,t.jsx)("select",{defaultValue:" Pick a color",className:" w-full select",onChange:e=>i(e.target.value),name:"rarity",children:[{key:"All",label:"Todos"},{key:"Common",label:"Com\xfan"},{key:"Epic",label:"Epico"},{key:"Legendary",label:"Legendario"},{key:"Rare",label:"Raro"},{key:"Uncommon",label:"Poco com\xfan"}].map(e=>(0,t.jsx)("option",{value:e.key,children:e.label},e.key))})}),(0,t.jsx)("div",{className:"w-full md:w-64",children:(0,t.jsx)("select",{onChange:e=>u(e.target.value),className:" w-full select",name:"category",children:null==s?void 0:s.map((e,l)=>(0,t.jsx)("option",{value:e,children:e},l))})}),(0,t.jsx)("div",{className:"w-full md:w-64",children:(0,t.jsx)("select",{defaultValue:"Pick a color",className:" w-full select",name:"order",onChange:e=>{h(e.target.value)},children:[{key:"price_desc",label:"Mayor a Menor"},{key:"price_asc",label:"Menor a Mayor"},{key:"name_asc",label:"Ascendente"},{key:"name_desc",label:"Descendente"}].map(e=>(0,t.jsx)("option",{value:e.key,children:e.label},e.key))})})]})}),(0,t.jsx)(o,{groupedSkins:y.filteredSkins})]})}},8624:(e,l,s)=>{Promise.resolve().then(s.bind(s,3889)),Promise.resolve().then(s.bind(s,7356))}},e=>{var l=l=>e(e.s=l);e.O(0,[415,252,295,347,889,441,684,358],()=>l(8624)),_N_E=e.O()}]);